
<ion-content [fullscreen]="true">
  <ion-header>
    <ion-toolbar>
      <ion-title size="large">Please login</ion-title>

      <ion-avatar class="ion-margin-start ion-margin-end" slot="start">
        <img alt="Logo" src="assets/icon/crazy.jpeg" />
      </ion-avatar>
    </ion-toolbar>
  </ion-header>

  <ion-grid>
    <ion-row class="ion-align-items-center ion-justify-content-center">
      <ion-col size="1"  size-sm="4"></ion-col>

      <ion-col size="10"  size-sm="4">
          <div class="container">
            <ion-input
              color="medium"
              label="Email"
              label-placement="floating"
              fill="outline"
              type="email"
              helperText="Enter a valid email"
              errorText="Invalid email"
              [(ngModel)] = "credentionals.email"
              name="email"
              email
              [required]="true"

              #email="ngModel"
              >

            </ion-input>

            <ion-input
              color="medium"
              label="Password"
              label-placement="floating"
              fill="outline"
              [counter]="true"
              maxlength="20"
              [counterFormatter]="customCounterFormatter"
              type="password"
              errorText="Invalid pass"
              [(ngModel)] = "credentionals.password"
              name="password"
              [required]="true"
              minlength="4"
              #password = "ngModel"
              >
            </ion-input>
          </div>
      </ion-col>
      <ion-col size="1"  size-sm="4"></ion-col>
    </ion-row>

    <ion-row class="ion-align-items-center ion-justify-content-end">
      <ion-col size="1"  size-sm="4"></ion-col>

      <ion-col class="ion-justify-content-end" size="10"  size-sm="4">
        <ion-item>
          @if(auth.LoggedStatus() === "pending") {
            <ion-spinner name="dots" slot="start"></ion-spinner>
            <ion-label>in progress</ion-label>
          }

          <ion-button [disabled]="!email.valid || !password.valid"  class="mr-14" size="default" slot="end"  color="medium" (click)="onLoggin()">Submit</ion-button>
        </ion-item>
        <!-- <ion-button class="ion-float-end"  color="medium">Submit</ion-button> -->

      </ion-col>

      <ion-col size="1"  size-sm="4"></ion-col>
    </ion-row>
    <ion-row class="ion-align-items-center ion-justify-content-center">
      <ion-col size="1"  size-sm="4"></ion-col>
      <ion-col size="10"  size-sm="4">
        <ion-label
        [ngClass]="{'clickable': email.valid}"
        class="ion-margin-start"
        (click)="OnForgotPassword(email.valid)"
        [color]="email.valid ? 'tertiary' : 'medium'">
          forgot password
        </ion-label>
        @if(!email.valid) {
          <ion-note ion-margin-start>(enter a valid email)</ion-note>
        }
      </ion-col>
      <ion-col size="1"  size-sm="4"></ion-col>
    </ion-row>
  </ion-grid>



</ion-content>
